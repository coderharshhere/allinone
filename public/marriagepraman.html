<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>विवाह प्रमाण पत्र आवेदन | AllINONE-MP </title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari:wght@400;700&display=swap');
        body {
            font-family: 'Noto Sans Devanagari', sans-serif;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        .form-input {
            width: 100%;
            border: 1px solid #d1d5db;
            padding: 0.75rem;
            border-radius: 0.75rem;
            outline: none;
            transition: all 0.2s;
        }
        .form-input:focus {
            border-color: #1d4ed8;
            box-shadow: 0 0 0 3px rgba(29, 78, 216, 0.1);
        }
    
@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
.animate-scaleIn {
  animation: scaleIn 0.25s ease-out;
}
</style>
    </style>
</head>
<body class="bg-gray-50">

    <!-- ================= STANDARD HEADER ================= -->
     <div id="header"></div>


    <!-- ===== FORM CONFIRMATION POPUP ===== -->
<div id="confirmModal"
     class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50">

  <div class="bg-white w-[90%] max-w-md rounded-2xl shadow-2xl border border-gray-200 animate-scaleIn">

    <!-- Header -->
    <div class="px-6 py-4 border-b flex items-center gap-3">
      <i class="fas fa-circle-exclamation text-red-600 text-xl"></i>
      <h3 class="text-lg font-bold text-gray-800">
        महत्वपूर्ण सूचना
      </h3>
    </div>

    <!-- Content -->
    <div class="px-6 py-5 text-sm text-gray-700 leading-relaxed">
      <p class="mb-3">
        कृपया फॉर्म भरने से पहले अपनी सभी जानकारी
        <span class="font-semibold text-red-600">ध्यानपूर्वक जाँच लें।</span>
      </p>

      <ul class="list-disc ml-5 space-y-1 text-gray-600">
        <li>गलत जानकारी देने पर आवेदन <b>निरस्त</b> किया जा सकता है</li>
        <li>आवेदन से संबंधित सम्पूर्ण जिम्मेदारी आवेदक की होगी</li>
        <li>सबमिट के बाद संशोधन संभव नहीं होगा</li>
      </ul>

      <div class="mt-4 bg-amber-50 border border-amber-200 p-3 rounded-lg text-xs text-amber-900">
        ⚠️ यह एक सरकारी प्रक्रिया है, अतः सही जानकारी अनिवार्य है।
      </div>
    </div>

    <!-- Buttons -->
    <div class="px-6 py-4 border-t flex gap-3">
      <button onclick="closeForm()"
              class="flex-1 py-2.5 rounded-xl border border-gray-300 text-gray-700 font-semibold hover:bg-gray-100 transition">
        नहीं
      </button>

      <button onclick="acceptAndOpen()"
              class="flex-1 py-2.5 rounded-xl bg-blue-700 text-white font-semibold hover:bg-blue-800 transition">
        हाँ, आगे बढ़ें
      </button>
    </div>

  </div>
</div>

    <!-- MAIN CONTENT -->
    <main class="flex-grow container mx-auto px-4 py-10">
        
        <div class="max-w-4xl mx-auto mb-8">
            <nav class="text-sm text-gray-500 mb-2">
                <a href="#" class="hover:text-blue-600">होम</a> / <span>सेवाएँ</span> / <span class="text-blue-900 font-semibold">विवाह प्रमाण पत्र</span>
            </nav>
            <h2 class="text-2xl font-bold text-gray-800 flex items-center gap-3">
                <i class="fas fa-users text-blue-600"></i>
          विवाह प्रमाण पत्र हेतु आवेदन
            </h2>
        </div>

        <div class="max-w-4xl mx-auto bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden">
            
            <div class="bg-blue-50 border-b border-blue-100 p-4 flex items-start gap-3">
                <i class="fas fa-info-circle text-blue-600 mt-1"></i>
                <p class="text-xs text-blue-800 leading-relaxed">
                <strong>महत्वपूर्ण:</strong>विवाह की तिथि, स्थान और पति–पत्नी की पहचान (आधार अनुसार नाम) सही होना सबसे आवश्यक है।
                </p>
            </div>

            <form id="casteForm" class="p-6 md:p-10 space-y-10">

<!-- पति की जानकारी -->
<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        पति का पूरा नाम *
    </label>
    <input type="text" name="husbandName" class="form-input" placeholder="पति का पूरा नाम" required>
</div>

<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        पति के पिता का नाम *
    </label>
    <input type="text" name="husbandFatherName" class="form-input" placeholder="पिता का नाम" required>
</div>

<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        पति की आयु *
    </label>
    <input type="number" name="husbandAge" class="form-input" placeholder="आयु दर्ज करें" min="18" required>
</div>

<!-- पत्नी की जानकारी -->
<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        पत्नी का पूरा नाम *
    </label>
    <input type="text" name="wifeName" class="form-input" placeholder="पत्नी का पूरा नाम" required>
</div>

<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        पत्नी के पिता का नाम *
    </label>
    <input type="text" name="wifeFatherName" class="form-input" placeholder="पिता का नाम" required>
</div>

<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        पत्नी की आयु *
    </label>
    <input type="number" name="wifeAge" class="form-input" placeholder="आयु दर्ज करें" min="18" required>
</div>

<!-- विवाह का विवरण -->
<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        विवाह की तिथि *
    </label>
    <input type="date" name="dateOfMarriage" class="form-input" required>
</div>

<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        विवाह का स्थान *
    </label>
    <input type="text" name="placeOfMarriage" class="form-input" placeholder="विवाह का स्थान" required>
</div>

<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        विवाह का प्रकार *
    </label>
    <select name="marriageType" class="form-input" required>
        <option value="">चुनें</option>
        <option value="Hindu">हिन्दू विवाह</option>
        <option value="Muslim">मुस्लिम विवाह</option>
        <option value="Civil">सिविल मैरिज</option>
        <option value="Other">अन्य</option>
    </select>
</div>

<!-- आवेदक की जानकारी -->
<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        आवेदक का नाम *
    </label>
    <input type="text" name="applicantName" class="form-input" placeholder="आवेदक का नाम" required>
</div>

<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        पति / पत्नी से संबंध *
    </label>
    <select name="relation" class="form-input" required>
        <option value="">चुनें</option>
        <option value="Husband">स्वयं (पति)</option>
        <option value="Wife">स्वयं (पत्नी)</option>
        <option value="Other">अन्य</option>
    </select>
</div>

<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        मोबाइल नंबर *
    </label>
    <input type="tel" name="mobile" class="form-input" placeholder="10 अंकों का मोबाइल नंबर" required>
</div>

<!-- गवाह की जानकारी -->
<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        गवाह 1 का नाम *
    </label>
    <input type="text" name="witness1" class="form-input" placeholder="गवाह 1 का नाम" required>
</div>

<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        गवाह 2 का नाम *
    </label>
    <input type="text" name="witness2" class="form-input" placeholder="गवाह 2 का नाम" required>
</div>

<!-- आवश्यक दस्तावेज (Checkbox) -->
<div>
    <label class="block text-sm font-bold text-gray-700 mb-2">
        आवश्यक दस्तावेज (यदि उपलब्ध हों तो टिक करें)
    </label>
    <div class="space-y-2 text-sm text-gray-700">
        <label class="flex items-center gap-2">
            <input type="checkbox" name="documents[]" value="Husband Aadhaar">
            पति का आधार कार्ड
        </label>
        <label class="flex items-center gap-2">
            <input type="checkbox" name="documents[]" value="Wife Aadhaar">
            पत्नी का आधार कार्ड
        </label>
        <label class="flex items-center gap-2">
            <input type="checkbox" name="documents[]" value="Marriage Proof">
            विवाह का प्रमाण (फोटो / कार्ड)
        </label>
        <label class="flex items-center gap-2">
            <input type="checkbox" name="documents[]" value="Witness ID">
            गवाहों का पहचान पत्र
        </label>
    </div>
</div>
<!-- Submit Section -->
                <div class="pt-6 border-t space-y-4">
                    <label class="flex items-start gap-3 cursor-pointer">
                        <input type="checkbox" class="mt-1 h-4 w-4 text-blue-600 rounded" required>
                        <span class="text-xs text-gray-600 italic">
                            मैं घोषणा करता/करती हूँ कि मैं मध्य प्रदेश का मूल निवासी हूँ और मेरे द्वारा दी गई जानकारी सत्य है। असत्य पाए जाने पर मेरा आवेदन निरस्त किया जा सकता है।
                        </span>
                    </label>

                    <div class="flex gap-4">
                        <button type="submit" class="flex-1 bg-green-700 text-white py-3 rounded-xl font-bold text-lg hover:bg-green-800 shadow-xl shadow-green-100 transition active:scale-95">
                         आवेदन जमा करें
                        </button>
                        <button type="reset" class="px-8 py-3 bg-gray-100 text-gray-600 rounded-xl font-bold hover:bg-gray-200 transition">
                            रीसेट
                        </button>
                    </div>
                </div>

            </form>
        </div>
    </main>

    <!-- FOOTER -->
    <div id="footer"></div>


    <style>
    /* Mobile par popup ki width set karne ke liye */
.my-mobile-popup {
    width: 90% !important; /* Mobile pe screen se chipkega nahi */
    max-width: 400px !important; /* Desktop pe chota rahega */
    border-radius: 20px !important;
    padding: 10px !important;
}
</style>

    <script type="module">
        fetch("header.html")
      .then(res => res.text())
      .then(data => document.getElementById("header").innerHTML = data);

    fetch("footer.html")
      .then(res => res.text())
      .then(data => document.getElementById("footer").innerHTML = data);

        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

        // Firebase Configuration (From User Template)
        const firebaseConfig = {
            apiKey: "AIzaSyA-iZvVroV-H6aRs7X-mlnt_ra3_vnaNzg",
            authDomain: "allinone-aa89.firebaseapp.com",
            projectId: "allinone-aa89",
            storageBucket: "allinone-aa89.firebasestorage.app",
            messagingSenderId: "924003122498",
            appId: "1:924003122498:web:2c86505457236e60055cdb"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const form = document.getElementById("casteForm");

        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            try {
                const formData = new FormData(form);
                await addDoc(collection(db, "applications"), {
                    serviceType: "Caste Certificate",
                    applicantName: formData.get("applicantName"),
                    fatherName: formData.get("fatherName"),
                    samagraId: formData.get("samagraId"),
                    aadhaar: formData.get("aadhaar"),
                    category: formData.get("category"),
                    subCaste: formData.get("subCaste"),
                    mobile: formData.get("mobile"),
                    status: "pending",
                    createdAt: serverTimestamp()
                });
                alert("आवेदन सफलतापूर्वक जमा हो गया हम आपसे जल्द संपर्क करेंगे✅");
                form.reset();
            } catch (error) {
                console.error("Error submitting form: ", error);
                alert("कुछ त्रुटि हुई, कृपया पुनः प्रयास करें।");
            }
        });


     
  function acceptAndOpen() {
    document.getElementById("confirmModal").style.display = "none";
    document.getElementById("mainForm").classList.remove("hidden");
  }

  function closeForm() {
    window.history.back(); // या home redirect
  }

document.addEventListener('DOMContentLoaded', function() {
    Swal.fire({
        title: '<span style="font-size: 18px;">⚠️ महत्वपूर्ण सूचना</span>',
        html: `<div style="text-align: center; font-family: 'Hind', sans-serif; font-size: 14px; line-height: 1.5;">
                <p>फॉर्म भरने से पहले अपनी जानकारी अच्छी तरह जाँच लें।</p>
                <p style="color: #dc2626; font-weight: bold; margin-top: 8px;">
                गलत जानकारी होने पर फॉर्म रद्द हो जाएगा, जिसके जिम्मेदार आप स्वयं होंगे।
                </p>
                <p style="margin-top: 10px; font-weight: 500;">क्या आप आगे बढ़ना चाहते हैं?</p>
               </div>`,
        icon: 'warning',
        iconColor: '#f89406',
        showCancelButton: true,
        confirmButtonColor: '#1e3a8a', // Aapka portal blue color
        cancelButtonColor: '#ef4444',
        confirmButtonText: 'हाँ, सहमत हूँ',
        cancelButtonText: 'नहीं, वापस जाएँ',
        allowOutsideClick: false,
        customClass: {
            popup: 'my-mobile-popup', // Hamari custom CSS class
            confirmButton: 'px-4 py-2 text-sm', // Button size compact kiya
            cancelButton: 'px-4 py-2 text-sm'
        },
        backdrop: `rgba(15, 23, 42, 0.7)` // Darker backdrop for better focus
    }).then((result) => {
        if (result.isConfirmed) {
            // Success toast (Chota popup)
            const Toast = Swal.mixin({
                toast: true,
                position: 'top-end',
                showConfirmButton: false,
                timer: 2000,
                timerProgressBar: true
            });
            Toast.fire({
                icon: 'success',
                title: 'आप फॉर्म भर सकते हैं'
            });
        } else {
            window.location.href = 'index.html'; 
        }
    });
});

        
    </script>
</body>
</html>
